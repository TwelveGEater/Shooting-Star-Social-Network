{"version":3,"sources":["components/Dialogs/Dialog/Dialog.module.css","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogField","props","path","id","className","s","dialog","active","userLink","src","avatar","to","name","Message","message","content","maxLength","maxLengthCreator","AddMessageFormeRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","RequiredField","component","Textarea","placeholder","Dialogs","dialogsItems","dialogs","map","Dialog","key","messagesItems","messages","messageInputText","dispatch","isAuth","messageItems","values","sendMessageCreator","newMessageBody","mapStateToPropsForRedirect","state","auth","compose","connect","dialogsServerData","dialogFieldData","messageData","newMessageText","Component","RedirectComponent","this","React"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,wBAAwB,aAAe,6BAA6B,OAAS,uBAAuB,OAAS,uBAAuB,aAAe,6BAA6B,QAAU,wBAAwB,SAAW,2B,oBCAzPD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,aAAe,8BAA8B,OAAS,wBAAwB,QAAU,2B,oBCA3ND,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,aAAe,8BAA8B,QAAU,2B,+FCgB5MC,EAbK,SAACC,GAEpB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACC,yBAAKC,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,QAClC,yBAAKH,UAAaC,IAAEG,UACpB,yBAAKC,IAAOR,EAAMS,SAClB,kBAAC,IAAD,CAASC,GAAIT,GAAOD,EAAMW,S,oCCCdC,EARC,SAACZ,GAChB,OACA,6BACA,yBAAKG,UAAWC,IAAES,SAAUb,EAAMc,W,yCC0B7BC,EAAYC,YAAiB,IAiB5BC,EAAuBC,YAAU,CACtCC,KAAM,wBADsBD,EAhBP,SAAClB,GACvB,OACA,0BAAMoB,SAAYpB,EAAMqB,cACvB,6BACC,kBAACC,EAAA,EAAD,CACAC,SAAY,CAACC,IAAeT,GAC3BU,UAAaC,IACbf,KAAQ,iBACRgB,YAAe,uBAEjB,6BACC,6CASYC,EA3CC,SAAC5B,GAEjB,IAGK6B,EAAe7B,EAAM8B,QAAQC,KAAI,SAAC1B,GAAD,OACpC,kBAAC2B,EAAD,CAAarB,KAAMN,EAAOM,KAAMT,GAAIG,EAAOH,GAAI+B,IAAO5B,EAAOH,GAAIO,OAAQJ,EAAOI,YAE7EyB,EAAgBlC,EAAMmC,SAASJ,KAAI,SAAClB,GAAD,OACtC,kBAAC,EAAD,CAASC,QAASD,EAAQC,QAASsB,iBAAkBvB,EAAQuB,iBAAkBH,IAAOpB,EAAQX,GAAImC,SAAUrC,EAAMqC,cAGnH,OAAIrC,EAAMsC,OAET,yBAAKnC,UAAWC,IAAEU,SACjB,yBAAKX,UAAWC,IAAEyB,cAAeA,EAAjC,KACA,yBAAK1B,UAAWC,IAAEmC,cAAeL,GACjC,kBAACjB,EAAD,CAAuBG,SAfR,SAACoB,GAClBxC,EAAMyC,mBAAmBD,EAAOE,oBASP,kBAAC,IAAD,CAAUhC,GAAM,Y,wCChBtCiC,EAA6B,SAACC,GAAD,MAAY,CAC5CN,OAAQM,EAAMC,KAAKP,S,OCmBLQ,sBACdC,aArBqB,SAACH,GACtB,MAAO,CACNd,QAASc,EAAMI,kBAAkBC,gBACjCd,SAAUS,EAAMI,kBAAkBE,YAClCR,eAAgBE,EAAMI,kBAAkBG,eACxCb,OAAQM,EAAMC,KAAKP,WAII,SAACD,GACzB,MAAO,CACNI,mBAAoB,SAACC,GACpBL,EAASI,YAAmBC,UDTC,SAACU,GAAe,IAC1CC,EADyC,uKAG3C,OAAIC,KAAKtD,MAAMsC,OAER,kBAACc,EAAcE,KAAKtD,OAFG,kBAAC,IAAD,CAAUU,GAAM,eAHH,GACf6C,IAAMH,WAStC,OAFqCL,YAAQJ,EAARI,CAAoCM,KCS1DP,CAGblB","file":"static/js/4.e620ffa7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialog_content__2kwx5\",\"dialogsItems\":\"Dialog_dialogsItems__2dn8D\",\"dialog\":\"Dialog_dialog__FHK98\",\"active\":\"Dialog_active__1Ks1r\",\"messageItems\":\"Dialog_messageItems__2Fg2n\",\"message\":\"Dialog_message__21ADy\",\"userLink\":\"Dialog_userLink__2Hi3d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__1f4bs\",\"dialogsItems\":\"Dialogs_dialogsItems__1Tpbo\",\"dialog\":\"Dialogs_dialog__PTbr1\",\"messageItems\":\"Dialogs_messageItems__1nBB1\",\"active\":\"Dialogs_active__3mG98\",\"message\":\"Dialogs_message__1fIjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Message_content__1bnK9\",\"dialogsItems\":\"Message_dialogsItems__I8E4F\",\"dialog\":\"Message_dialog__245yN\",\"active\":\"Message_active__2BaN_\",\"messageItems\":\"Message_messageItems__FX7sd\",\"message\":\"Message_message__SEPcA\"};","import React from 'react';\r\nimport s from './Dialog.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogField = (props) => {\r\n\r\n\tlet path = '/dialogs/' + props.id;\r\n\treturn (\r\n\t\t<div className={s.dialog + ' ' + s.active}>\t\r\n\t\t\t<div className = {s.userLink}>\r\n\t\t\t<img src = {props.avatar} />\r\n\t\t\t<NavLink to={path}>{props.name}</NavLink>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DialogField;\r\n","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t<div>\r\n\t<div className={s.message}>{props.content}</div>\r\n\t</div>\r\n\t);\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport DialogField from './Dialog/Dialog';\r\nimport s from './Dialogs.module.css';\r\nimport Message from './Message/Message';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Textarea } from '../common/FormsControls/FormsControls'\r\nimport {RequiredField, maxLengthCreator} from '../../utils/validators'\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n//  let newMessageBody = props.newMessageBody;\r\nlet sendMessage = (values) => {\r\n\tprops.sendMessageCreator(values.newMessageBody);\r\n}\r\n\tlet dialogsItems = props.dialogs.map((dialog) => (\r\n\t\t<DialogField name={dialog.name} id={dialog.id} key = {dialog.id} avatar={dialog.avatar} />\r\n\t));\r\n\tlet messagesItems = props.messages.map((message) => (\r\n\t\t<Message content={message.content} messageInputText={message.messageInputText} key = {message.id} dispatch={props.dispatch} />\r\n\t));\r\n\r\n\tif(!props.isAuth) return <Redirect to = {'/login'}/>;\r\n\treturn (\r\n\t\t<div className={s.content}>\r\n\t\t\t<div className={s.dialogsItems}>{dialogsItems} </div>\r\n\t\t\t<div className={s.messageItems}>{messagesItems}</div>\r\n\t\t\t<AddMessageFormeRedux  onSubmit = {sendMessage}/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst maxLength = maxLengthCreator(50);\r\nconst AddMessageForm = (props) => {\r\n\treturn (\r\n\t<form onSubmit = {props.handleSubmit}>\r\n\t\t<div>\r\n\t\t\t<Field \r\n\t\t\tvalidate = {[RequiredField, maxLength]}\r\n\t\t\t component = {Textarea}\r\n\t\t\t name = {'newMessageBody'}\r\n\t\t\t placeholder = {'Enter new message'} />\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<button >Send</button>\r\n\t\t</div>\r\n\t</form>)\r\n\t}\r\n\t\r\n\tconst AddMessageFormeRedux = reduxForm({\r\n\t\tform: 'dialogAddMessageForm'\r\n\t  })(AddMessageForm)\r\n\r\nexport default Dialogs;\r\n","\r\nimport  React  from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n});\r\nexport const withAuthRedirect = (Component) => { \r\nclass RedirectComponent extends React.Component {\r\nrender()\t{\r\n    if(!this.props.isAuth) return <Redirect to = {'/login'}/>\r\ndebugger\r\n    return <Component {...this.props} />\r\n}\r\n}\r\nlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\nreturn ConnectedAuthRedirectComponent\r\n}\r\n","import React from 'react';\r\nimport { sendMessageCreator } from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogs: state.dialogsServerData.dialogFieldData,\r\n\t\tmessages: state.dialogsServerData.messageData,\r\n\t\tnewMessageBody: state.dialogsServerData.newMessageText,\r\n\t\tisAuth: state.auth.isAuth\r\n\t};\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessageCreator: (newMessageBody) => {\r\n\t\t\tdispatch(sendMessageCreator(newMessageBody));\r\n\t\t},\r\n\t};\r\n};\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect\r\n)(Dialogs)\r\n;\r\n"],"sourceRoot":""}